#include <SoftwareSerial.h>

// Replace with your phone number including country code
const String PHONE = "+919866596528";

#define rxPin 2
#define txPin 3
SoftwareSerial sim800(rxPin, txPin);

int pir_sensor = 11;

void setup() {
  pinMode(pir_sensor, INPUT);
  Serial.begin(115200);
  sim800.begin(9600);
  Serial.println("SIM800L software serial initialize");
  sim800.println("AT");
  delay(1000);
}

void loop() {
  while(sim800.available()) {
    Serial.println(sim800.readString());
  }

  while(Serial.available()) {
    sim800.println(Serial.readString());
  }

  int val = digitalRead(pir_sensor);
  if (val == HIGH) {
    Serial.println("Motion detected!");
    Serial.println("Calling....");
    delay(1000);
    sim800.println("ATD" + PHONE + ";");
    delay(20000);
  }
}
